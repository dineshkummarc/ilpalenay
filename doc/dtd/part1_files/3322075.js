
if(!window.ak)var ak=function(){};try{ak.parseBoolean=function(input){if(input.constructor==String){input=input.toLowerCase();if(input=='false'||input=='no'||input=='0')return false;if(input=='true'||input=='yes'||input=='1')return true;}if(input==1)return true;if(input==0)return false;throw new Error('Could not convert "'+input+'" into a boolean value.');};ak.escapeAPIString=function(inputString){if(inputString==null)return '';inputString+='';return inputString.replace(/[,]/g,'AKCOMMA');};ak.unescapeAPIString=function(inputString){if(inputString==null)return '';inputString+='';return inputString.replace(/AKCOMMA/g,',');};ak.arrayToEscapedString=function(array){var outputString='';for(var i=0;i<=(array.length-1);i++){if(i!=0)outputString+=',';if(array[i].constructor==String){outputString+=ak.escapeAPIString(array[i]);}else{outputString+=array[i];}}return outputString;};ak.escapedStringToArray=function(inputString,conversionFunction){if(inputString==null)return[];inputString+='';var outputArray=inputString.split(',');for(var i=0;i<=(outputArray.length-1);i++){outputArray[i]=conversionFunction(outputArray[i]);}return outputArray;};ak.APIParameter=function(unifiedName,usableNames,defaultValue,isUsedForSilentMode,URLName){this.unifiedName=unifiedName;this.usableNames=usableNames;this.dataType='STRING';this.value=defaultValue;this.encodedValue='';this.isUsedForSilentMode=isUsedForSilentMode;this.URLName=URLName;this.populatingExpression='';this.isSentToServer=true;this.specificity='REQUEST';this.sources=new Array(0);this.boxSpecificOverrideChildren=new Array(0);this.boxSpecificOverrideParent=null;this.isLessImportantThanItemArrayData=false;this.maxValueLength=-1;};ak.APIParameter.prototype.unifiedName='';ak.APIParameter.prototype.usableNames=[];ak.APIParameter.prototype.dataType='STRING';ak.APIParameter.prototype.value='';ak.APIParameter.prototype.encodedValue='';ak.APIParameter.prototype.isUsedForSilentMode=false;ak.APIParameter.prototype.URLName='';ak.APIParameter.prototype.populatingExpression='';ak.APIParameter.prototype.isSentToServer=true;ak.APIParameter.prototype.specificity='ITEM';ak.APIParameter.prototype.sources=new Array(0);ak.APIParameter.prototype.isBoxSpecificOverride=false;ak.APIParameter.prototype.isLessImportantThanItemArrayData=false;ak.APIParameter.prototype.maxValueLength=-1;ak.APIParameter.prototype.populateValueFromString=function(inputString){this.dataType=this.dataType.toUpperCase();try{if(this.dataType=='STRING')this.value=inputString;if(this.dataType=='INTEGER')this.value=parseInt(inputString);if(this.dataType=='FLOAT')this.value=parseFloat(inputString);if(this.dataType=='BOOLEAN')this.value=ak.parseBoolean(inputString);if(this.dataType=='STRING_OR_ARRAY'||this.dataType=='INTEGER_OR_ARRAY'||this.dataType=='FLOAT_OR_ARRAY'||this.dataType=='BOOLEAN_OR_ARRAY'){if(this.dataType=='STRING_OR_ARRAY')conversionFunction=ak.unescapeAPIString;if(this.dataType=='INTEGER_OR_ARRAY')conversionFunction=parseInt;if(this.dataType=='FLOAT_OR_ARRAY')conversionFunction=parseFloat;if(this.dataType=='BOOLEAN_OR_ARRAY')conversionFunction=ak.parseBoolean;if(inputString.indexOf(',')==-1){this.value=conversionFunction(inputString);}else{this.value=ak.escapedStringToArray(inputString,conversionFunction);}}}catch(e){this.value=inputString;}};ak.APIParameter.prototype.populateFromQueryString=function(){for(var i=0;i<=(this.usableNames.length-1);i++){var name=this.usableNames[i];var paramValue=ak.getParamValueFromQueryString(name);if(paramValue!=null){this.populateValueFromString(paramValue);return true;}}return false;};ak.APIParameter.prototype.populateFromCookie=function(){for(var i=0;i<=(this.usableNames.length-1);i++){var name=this.usableNames[i];var paramValue=ak.getParamValueFromCookie(name);if(paramValue!=null){this.populateValueFromString(paramValue);return true;}}return false;};ak.APIParameter.prototype.populateFromPopulatingExpression=function(){if(this.populatingExpression!=''){this.value=eval(this.populatingExpression);return true;}return false;};ak.APIParameter.prototype.populateFromJSVars=function(){for(var i=0;i<=(this.usableNames.length-1);i++){var name=this.usableNames[i];if(ak.variableIsDefined(name)){this.value=window[name];return true;}}return false;};ak.APIParameter.prototype.clearValue=function(){this.populateValueFromString('');this.encodedValue='';};ak.APIParameter.prototype.populate=function(){for(var i=0;i<=(this.sources.length-1);i++){var currentSource=this.sources[i];if(currentSource=='URL'&&this.populateFromQueryString())break;if(currentSource=='COOKIE'&&this.populateFromCookie())break;if(currentSource=='JAVASCRIPT_VAR'&&this.populateFromJSVars())break;if(currentSource=='POPULATING_EXPRESSION'&&this.populatingExpression!=''&&this.populateFromPopulatingExpression())break;}var stringValue=this.getValueAsString();if(stringValue!=null&&stringValue!='')this.encodedValue=ak.base64Encode(stringValue);};ak.APIParameter.prototype.getValueAsString=function(){if(this.value==null)return null;this.dataType=this.dataType.toUpperCase();var output='';if(this.dataType=='INTEGER'||this.dataType=='FLOAT'||this.dataType=='BOOLEAN')output=''+this.value;if(this.dataType=='STRING_OR_ARRAY'||this.dataType=='STRING'){if(this.value.constructor==String){if(this.maxValueLength>-1&&this.value.length>this.maxValueLength)this.value=this.value.substring(0,(this.maxValueLength-3))+'...';output=ak.escapeAPIString(this.value);}else if(this.value.constructor==Array){if(this.maxValueLength>-1){for(var i=0;i<this.value.length;i++){if(this.value[i].length>this.maxValueLength)this.value[i]=this.value[i].substring(0,(this.maxValueLength-3))+'...';}}output=ak.arrayToEscapedString(this.value);}}if(this.dataType=='INTEGER_OR_ARRAY'||this.dataType=='FLOAT_OR_ARRAY'||this.dataType=='BOOLEAN_OR_ARRAY'){if(this.value.constructor==Array){output=ak.arrayToEscapedString(this.value);}else{output=String(this.value);}}return output;};ak.APIParameter.prototype.outputToDebug=function(linePrefix){var output='';if(linePrefix==null)linePrefix='';output+=linePrefix+'Server-side name: '+this.unifiedName+'\n';output+=linePrefix+'Client-usable name(s): '+this.usableNames+'\n';output+=linePrefix+'Data type: '+this.dataType+'\n';output+=linePrefix+'Value: '+this.getValueAsString()+'\n';output+=linePrefix+'URL name: '+this.URLName+'\n';output+=linePrefix+'Used for silent mode? '+this.isUsedForSilentMode+'\n';output+=linePrefix+'Populating expression: '+this.populatingExpression+'\n';output+=linePrefix+'Sent to server? '+this.isSentToServer+'\n';output+=linePrefix+'Specific to: '+this.specificity+'\n';output+=linePrefix+'Sources: '+this.sources.join(', ')+'\n';return output;};ak.APIParameters=function(){this.paramMap=new Object();this.paramList=[];this.isSilentModeValue=-1;var newParam=new ak.APIParameter('akResultsFrameHeight',['akResultsFrameHeight'],300,false,'');newParam.dataType='INTEGER';newParam.isSentToServer=false;newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akResultsFrameWidth',['akResultsFrameWidth'],275,false,'');newParam.dataType='INTEGER';newParam.isSentToServer=false;newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('_akListPrice',['_akListPrice'],'',false,'');newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('_akOurPrice',['_akOurPrice'],'',false,'');newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akExclude',['akExclude'],false,false,'');newParam.dataType='BOOLEAN';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akItemExpirationDate',['akItemExpirationDate'],'',false,'');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akItemTitle',['akItemTitle'],'',false,'');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=255;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akKeywords',['akKeywords'],'',true,'keywords');newParam.dataType='STRING_OR_ARRAY';newParam.populatingExpression='ak.getKeywords()';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akLockItem',['akLockItem'],'',false,'');newParam.dataType='BOOLEAN';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akThumbnailHeight',['akThumbnailHeight'],'',false,'');newParam.dataType='INTEGER';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akThumbnailUrl',['akThumbnailUrl'],'',false,'');newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akThumbnailWidth',['akThumbnailWidth'],'',false,'');newParam.dataType='INTEGER';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akAffiliateLinkData',['akAffiliateLinkData'],'',false,'akAffiliateLinkData');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akAffiliateLinkType',['akAffiliateLinkType'],'',false,'akAffiliateLinkType');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akAnchorId',['akAnchorId'],'akAPI',true,'anchorid');newParam.dataType='STRING_OR_ARRAY';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akApiKey',['akApiKey'],'',true,'apikey');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akBrowserTimeStamp',['akBrowserTimeStamp'],'',true,'akBrowserTimeStamp');newParam.dataType='INTEGER';newParam.populatingExpression='ak.getBrowserTimeStamp()';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akClientRequestData',['akClientRequestData'],'',true,'akClientRequestData');newParam.dataType='STRING_OR_ARRAY';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akDOMWriteMode',['akDOMWriteMode'],'ASYNCHRONOUS',true,'akDOMWriteMode');newParam.populatingExpression='ak.getDOMWriteMode()';newParam.maxValueLength=-1;newParam.sources=['POPULATING_EXPRESSION'];this.addParameter(newParam);var newParam=new ak.APIParameter('akDebug',['akDebug'],false,true,'akDebug');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','COOKIE','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akDemo',['akDemo'],false,false,'akDemo');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akExcludeResultItems',['akExcludeItems','akExcludeResultItems'],'',false,'excludeitems');newParam.dataType='STRING_OR_ARRAY';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akForceSettingsGroup',['akForceSettingsGroup'],'',false,'akForceSettingsGroup');newParam.dataType='INTEGER';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akIgnoreMetadata',['akIgnoreMetadata'],false,true,'akIgnoreMetadata');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akIntent',['akIntent'],'VIEW',true,'intent');newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akInternalParameters',['akInternalParameters'],'',true,'akInternalParameters');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akItemQuantity',['akItemQuantity'],1,true,'itemquantity');newParam.dataType='INTEGER_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akItemsTruncated',['akItemsTruncated'],0,true,'itemstruncated');newParam.dataType='INTEGER';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akLocale',['akLocale'],'',true,'akLocale');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akMaxNum',['akMaxNum'],5,false,'maxnum');newParam.dataType='INTEGER';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akMinify',['akMinify'],'',true,'akMinify');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akMode',['akMode'],'DISPLAY',true,'mode');newParam.maxValueLength=-1;newParam.sources=['URL','COOKIE','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akNoCookie',['akNoCookie'],'',true,'nocookie');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akNumCols',['akNumCols'],0,false,'numcols');newParam.dataType='INTEGER';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akNumRows',['akNumRows'],0,false,'numrows');newParam.dataType='INTEGER';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akOptOut',['akOptOut'],'',true,'akOptOut');newParam.dataType='BOOLEAN';newParam.maxValueLength=-1;newParam.sources=['URL','COOKIE','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akOrderIdToken',['akOrderIdToken'],'',true,'akOrderIdToken');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akOrientation',['akOrientation'],'VERTICAL',false,'orientation');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akRecrawl',['akRecrawl'],'',true,'akRecrawl');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akReferer',['akReferer'],'',true,'referer');newParam.populatingExpression='ak.getReferer()';newParam.isLessImportantThanItemArrayData=true;newParam.maxValueLength=-1;newParam.sources=['POPULATING_EXPRESSION'];this.addParameter(newParam);var newParam=new ak.APIParameter('akResultType',['akResultType'],'',false,'resulttype');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='BOX';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akResultsTitle',['akResultsTitle'],'People who looked at this also looked at:',false,'resultstitle');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akSourceUrl',['akSourceUrl'],'',true,'sourceurl');newParam.populatingExpression='ak.getSourceUrl()';newParam.isLessImportantThanItemArrayData=true;newParam.maxValueLength=-1;newParam.sources=['POPULATING_EXPRESSION'];this.addParameter(newParam);var newParam=new ak.APIParameter('akStylesheetUrl',['akStylesheetUrl'],'',false,'stylesheeturl');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akTarget',['akTarget'],ak.getDefaultTarget(),true,'target');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akTargetDesc',['akDescription','akDesc','akTargetDesc'],ak.getDefaultTargetDesc(),true,'description');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=255;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akTargetOrder',['akTargetOrder'],'',true,'akTargetOrder');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akTargetType',['akTargetType'],'',true,'fromtype');newParam.dataType='STRING_OR_ARRAY';newParam.specificity='ITEM';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akUUId',['akUUId'],'',true,'uuid');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akUserIdentityToken',['akUserIdentityToken'],'',true,'akUserIdentityToken');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akValidationKey',['akValidationKey'],'',true,'akValidationKey');newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);var newParam=new ak.APIParameter('akWebsiteRegion',['akRegion','akWebsiteRegion'],'default',true,'websiteregion');newParam.specificity='BOX';newParam.maxValueLength=-1;newParam.sources=['URL','POPULATING_EXPRESSION','JAVASCRIPT_VAR'];this.addParameter(newParam);};ak.APIParameters.prototype.addParameter=function(parameter){for(var i=0;i<parameter.usableNames.length;i++){this.paramMap[parameter.usableNames[i]]=parameter;}this.paramList.push(parameter);};ak.APIParameters.prototype.iterator=function(){return new ak.APIParametersIterator(this);};ak.APIParameters.prototype.getParameterByName=function(name){var param=this.paramMap[name];return param!=null?param:undefined;};ak.APIParameters.prototype.populate=function(){for(var iter=this.iterator();iter.hasNext();){var param=iter.next();param.populate();}this.populateBoxSpecificParameters();};ak.APIParameters.prototype.populateBoxSpecificParameters=function(){var anchorIds=this.getAnchorIds();for(var iter=this.iterator();iter.hasNext();){var param=iter.next();if(param.specificity=='BOX'){for(var i=0;i<=(anchorIds.length-1);i++){var boxSpecificUsableNames=[];for(var j=0;j<=(param.usableNames.length-1);j++){boxSpecificUsableNames.push(anchorIds[i]+"_"+param.usableNames[j]);}var boxSpecificUnifiedParamName=anchorIds[i]+"_"+param.unifiedName;var boxSpecificParam=new ak.APIParameter(boxSpecificUnifiedParamName,boxSpecificUsableNames,null,param.isUsedForSilentMode,boxSpecificUnifiedParamName);boxSpecificParam.dataType=param.dataType;boxSpecificParam.sources=param.sources;boxSpecificParam.isBoxSpecificOverride=true;boxSpecificParam.isLessImportantThanItemArrayData=param.isLessImportantThanItemArrayData;boxSpecificParam.populate();if(boxSpecificParam.value!=null){this.addParameter(boxSpecificParam);param.boxSpecificOverrideChildren.push(boxSpecificParam);boxSpecificParam.boxSpecificOverrideParent=param;}}}}};ak.APIParameters.prototype.isSilentMode=function(){if(this.isSilentModeValue==-1)this.isSilentModeValue=(this.getParameterByName('akMode').value=='SILENT')?1:0;return(this.isSilentModeValue==1);};ak.APIParameters.prototype.getFirstAnchorId=function(){var anchorIdParamValue=this.getParameterByName('akAnchorId').value;if(anchorIdParamValue.constructor==Array){return(anchorIdParamValue.length>0?anchorIdParamValue[0]:'');}else{return anchorIdParamValue;}};ak.APIParameters.prototype.getAnchorIds=function(){var anchorIdsParam=this.getParameterByName('akAnchorId');if(anchorIdsParam==null)return[];if(anchorIdsParam.value.constructor==Array)return anchorIdsParam.value;return[anchorIdsParam.value];};ak.APIParameters.prototype.toString=function(){var output='API PARAMETER CONTENTS\n'+'======================\n\n';for(var iter=this.iterator();iter.hasNext();){var param=iter.next();if(param.boxSpecificOverrideParent==null){output+=param.outputToDebug('    ')+'\n';}if(param.boxSpecificOverrideChildren.length>0){for(var i=0;i<=(param.boxSpecificOverrideChildren.length-1);i++){output+=param.boxSpecificOverrideChildren[i].outputToDebug('        ')+'\n';}}}output+='\n======================';return output;};ak.APIParameters.prototype.toQueryString=function(){var outputString='';var paramCount=0;for(var iter=this.iterator();iter.hasNext();){var param=iter.next();if((!this.isSilentMode()||param.isUsedForSilentMode)&&param.isSentToServer&&param.URLName.length>0){if(paramCount==0){outputString=outputString+'?';}else{outputString=outputString+'&';}outputString=outputString+param.URLName+'='+param.encodedValue;paramCount=paramCount+1;}}return outputString;};ak.APIParametersIterator=function(APIParameters){this.params=APIParameters;};ak.APIParametersIterator.prototype.params=null;ak.APIParametersIterator.prototype.currentIndex=0;ak.APIParametersIterator.prototype.hasNext=function(){return this.currentIndex<(this.params.paramList.length);};ak.APIParametersIterator.prototype.next=function(){var output=this.params.paramList[this.currentIndex];this.currentIndex++;return output;};ak.buildApiParameters=function(){var params=new ak.APIParameters();params.populate();return params;};ak.UTF8Encode=function(inputString){if(inputString==null)return '';inputString+='';var outputString='';for(var i=0;i<inputString.length;i++){var currentCharValue=inputString.charCodeAt(i);if(currentCharValue<128){outputString+=String.fromCharCode(currentCharValue);}else if((currentCharValue >= 128)&&(currentCharValue<2048)){outputString+=String.fromCharCode((currentCharValue >> 6)|192);outputString+=String.fromCharCode((currentCharValue&63)|128);}else{outputString+=String.fromCharCode((currentCharValue >> 12)|224);outputString+=String.fromCharCode(((currentCharValue >> 6)&63)|128);outputString+=String.fromCharCode((currentCharValue&63)|128);}}return outputString;};ak.base64Encode=function(inputString){if(inputString==null||inputString=='')return '';if(inputString=='0'){return 'MA==';}else if(inputString=='1'){return 'MQ==';}else if(inputString=='true'){return 'dHJ1ZQ==';}else if(inputString=='false'){return 'ZmFsc2U=';}else if(inputString=='HORIZONTAL'){return 'SE9SSVpPTlRBTA==';}else if(inputString=='VERTICAL'){return 'VkVSVElDQUw=';}else if(inputString=='SILENT'){return 'U0lMRU5U';}else if(inputString=='DISPLAY'){return 'RElTUExBWQ==';}else if(inputString=='default'){return 'ZGVmYXVsdA==';}else if(inputString=='akAPI'){return 'YWtBUEk=';}inputString+='';inputString=ak.UTF8Encode(inputString);var base64Chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var outputArray=new Array(Math.ceil(inputString.length*1.5));var outputArrayIndex=0;for(var i=0;i<inputString.length;i+=3){var byte1=inputString.charCodeAt(i);var byte2=inputString.charCodeAt(i+1);var byte3=inputString.charCodeAt(i+2);var encodedCharIndex1=byte1 >> 2;var encodedCharIndex2=((byte1&3)<< 4)|(byte2 >> 4);var encodedCharIndex3=((byte2&15)<< 2)|(byte3 >> 6);var encodedCharIndex4=byte3&63;if(isNaN(byte2)){encodedCharIndex3=encodedCharIndex4=64;}else if(isNaN(byte3)){encodedCharIndex4=64;}outputArray[outputArrayIndex]=base64Chars.charAt(encodedCharIndex1);outputArray[outputArrayIndex+1]=base64Chars.charAt(encodedCharIndex2);outputArray[outputArrayIndex+2]=base64Chars.charAt(encodedCharIndex3);outputArray[outputArrayIndex+3]=base64Chars.charAt(encodedCharIndex4);outputArrayIndex+=4;}return outputArray.slice(0,outputArrayIndex).join('');};ak.stripSpaces=function(inputString){return inputString.replace(/^\s*/,'').replace(/\s*$/,'');};ak.getCookieValue=function(name){var cookieArray=document.cookie.split(/\s*;\s*/);for(var i=0;i<=(cookieArray.length-1);i++){var cookieItem=cookieArray[i];var cookieItemTokens=cookieItem.split('=');if(cookieItemTokens[0]==name)return cookieItemTokens[1];}return null;};ak.setSessionCookie=function(name,value){var cookieString=ak.stripSpaces(name)+'='+ak.stripSpaces(value);+'; path=/';document.cookie=cookieString;};ak.generateRandomNumericString=function(length){var output='';for(var i=0;i<=(length-1);i++){output+=(Math.random()*10).toString().charAt(0);}return output;};ak.getQueryVariable=function(name){if(window.akQueryStringMap==null){var queryTokens=ak.getWindowReference().location.search.substring(1).split("&");var newQueryMap=new Object();for(var i=0;i<=(queryTokens.length-1);i++){var nameAndValue=queryTokens[i].split("=");if(nameAndValue.length==1){newQueryMap[nameAndValue[0].toLowerCase()]='';}else{newQueryMap[nameAndValue[0].toLowerCase()]=nameAndValue[1];}}window.akQueryStringMap=newQueryMap;}return window.akQueryStringMap[name.toLowerCase()];};ak.getParamValueFromQueryString=function(paramName){paramName=paramName.toLowerCase();var queryValue=ak.getQueryVariable(paramName);if(queryValue!=null){ak.setSessionCookie(paramName,queryValue);return queryValue;}return null;};ak.getParamValueFromCookie=function(paramName){paramName=paramName.toLowerCase();return ak.getCookieValue(paramName);};ak.getDefaultTarget=function(){var url=ak.getSourceUrl();if(url.length >= 4&&url.substring(0,4)!='http')return '';return url;};ak.getDefaultTargetDesc=function(){return ak.getWindowReference().document.title;};ak.getReferer=function(){return ak.getWindowReference().document.referrer;};ak.getSourceUrl=function(){try{var locationObj=window.top.location;var url="";if(locationObj.href){url=locationObj.href.toString()}else{url=locationObj.toString();}return url;}catch(e){if(document.referer)return document.referer;return document.referrer;}};ak.getDOMWriteMode=function(){return(false?'SYNCHRONOUS':'ASYNCHRONOUS');};ak.getBrowserTimeStamp=function(){return parseInt((new Date()).valueOf()/ 1000);};ak.collapseWhitespace=function(inputString){return inputString.replace(/^\s*/,'').replace(/\s*$/,'').split(/\s+/).join(' ');};ak.getKeywords=function(){var apiVarsArray=new Array();var varPrefixArray=new Array();var includeFunctionsArray=new Array();var spaceEscapingArray=new Array();var maxValueLengthArray=new Array();var currentVar=undefined;if(ak.variableIsDefined('_akListPrice')){currentVar=window._akListPrice;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('_akListPrice:');includeFunctionsArray.push(new Function('val','return true;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('_akOurPrice')){currentVar=window._akOurPrice;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('_akOurPrice:');includeFunctionsArray.push(new Function('val','return true;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akExclude')){currentVar=window.akExclude;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('xcl:');includeFunctionsArray.push(new Function('val','return val;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akItemExpirationDate')){currentVar=window.akItemExpirationDate;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('exp:');includeFunctionsArray.push(new Function('val','return true;'));spaceEscapingArray.push(true);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akItemTitle')){currentVar=window.akItemTitle;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('it:');includeFunctionsArray.push(new Function('val','return val && val.length > 0;'));spaceEscapingArray.push(true);maxValueLengthArray.push(255);}var currentVar=undefined;if(ak.variableIsDefined('akKeywords')){currentVar=window.akKeywords;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('');includeFunctionsArray.push(new Function('val','return true;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akLockItem')){currentVar=window.akLockItem;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('lock:');includeFunctionsArray.push(new Function('val','return true;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akThumbnailHeight')){currentVar=window.akThumbnailHeight;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('tnh:');includeFunctionsArray.push(new Function('val','return val > 0;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akThumbnailUrl')){currentVar=window.akThumbnailUrl;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('tn:');includeFunctionsArray.push(new Function('val','return val.length > 0;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentVar=undefined;if(ak.variableIsDefined('akThumbnailWidth')){currentVar=window.akThumbnailWidth;}if(currentVar){apiVarsArray.push(currentVar);varPrefixArray.push('tnw:');includeFunctionsArray.push(new Function('val','return val > 0;'));spaceEscapingArray.push(false);maxValueLengthArray.push(-1);}var currentKeywordStringIndex=0;var packedStringArray=new Array;while(true&&currentKeywordStringIndex<1000){var currentPackedString='';for(var i=0;i<=(apiVarsArray.length-1);i++){var currentVarValue=undefined;if(apiVarsArray[i].constructor!=Array&&currentKeywordStringIndex==0){currentVarValue=apiVarsArray[i];}else if(apiVarsArray[i].constructor==Array&&apiVarsArray[i].length>currentKeywordStringIndex){currentVarValue=apiVarsArray[i][currentKeywordStringIndex];}if(currentVarValue!=undefined&&includeFunctionsArray[i](currentVarValue)){currentVarValue+='';if(spaceEscapingArray[i]){currentVarValue=currentVarValue.replace(/[\s]/g,'AKSPACE');}else{currentVarValue=ak.collapseWhitespace(currentVarValue);}if(maxValueLengthArray[i]>-1&&currentVarValue.length>maxValueLengthArray[i])currentVarValue=currentVarValue.substring(0,(maxValueLengthArray[i]-3))+'...';currentKeyword=varPrefixArray[i]+currentVarValue;if(currentPackedString.length>0)currentPackedString+=' ';currentPackedString+=currentKeyword;}}if(currentPackedString.length>0){packedStringArray.push(currentPackedString);}else{break;}currentKeywordStringIndex++;}return packedStringArray;};ak.handleShortcuts=function(event){if(!event)event=window.event;var character=(event.ctrlKey)?'ctrl':String.fromCharCode(event.keyCode).toLowerCase();window.akCharSequence+=character;if(window.akCharSequence=='ctrlak')ak.setUpDebugConsole();if(window.akCharSequence=='ctrl'||window.akCharSequence=='ctrla')return;window.akCharSequence='';};ak.setUpShortcuts=function(){window.akCharSequence='';if(document.addEventListener){document.addEventListener('keydown',ak.handleShortcuts,false);}else if(document.attachEvent){document.attachEvent('onkeydown',ak.handleShortcuts);}else{document['onkeydown']=ak.handleShortcuts;}};ak.getWindowSize=function(){if(typeof(window.innerWidth)=='number'){var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;}else if(document.documentElement&&document.documentElement.clientWidth){var windowWidth=document.documentElement.clientWidth;var windowHeight=document.documentElement.clientHeight;}return[windowWidth,windowHeight];};ak.getWindowCenter=function(){if(window.pageYOffset){var xOffset=window.pageXOffset;var yOffset=window.pageYOffset;}else if(document.documentElement&&document.documentElement.body&&document.documentElement.body.scrollLeft){var xOffset=document.documentElement.body.scrollLeft;var yOffset=document.documentElement.body.scrollTop;}else if(document.body&&document.body.scrollLeft){var xOffset=document.body.scrollLeft;var yOffset=document.body.scrollTop;}var windowSize=ak.getWindowSize();if(isNaN(xOffset))xOffset=0;if(isNaN(yOffset))yOffset=0;return[xOffset+(windowSize[0]/ 2),yOffset+(windowSize[1]/ 2)];};ak.AK_NUM_LOADING_DOTS=8;ak.createLoadingMessage=function(){var loadingDiv=document.createElement('div');var windowCenter=ak.getWindowCenter();var divLeft=windowCenter[0]-50;var divTop=windowCenter[1]-25;ak.setStyleAttribute(loadingDiv,'background:white; border:2px solid #999999; position:absolute; z-index:99; display:block; padding:10px; left:'+divLeft+'px; top:'+divTop+'px; text-align:center;');loadingDiv.setAttribute('id','akLoadingMessageDiv');var loadingBarHTML='';for(var i=0;i<ak.AK_NUM_LOADING_DOTS;i++){loadingBarHTML+='<span id = "loadingDot'+i+'">&bull;</span>';}loadingDiv.innerHTML='<span style = "color:#999999;"><span style = "font-size:10pt;">One moment...</span><br><span style = "font-size:20pt;">'+loadingBarHTML+'</span></span>';document.body.appendChild(loadingDiv);window.currentCenterLoadingDot=-2;ak.setLoadingDotColors();};ak.setLoadingDotColors=function(){for(var i=0;i<ak.AK_NUM_LOADING_DOTS;i++){var currentDot=document.getElementById('loadingDot'+i);if(currentDot==null)continue;currentDot.style.color='#FFFFFF';}for(var i=(window.currentCenterLoadingDot-2);i<(window.currentCenterLoadingDot+3);i++){var currentDot=document.getElementById('loadingDot'+i);if(currentDot==null)continue;var relativeDotPosition=(i-window.currentCenterLoadingDot);if(relativeDotPosition==0)currentDot.style.color='#999999';if(Math.abs(relativeDotPosition)==1)currentDot.style.color='#BBBBBB';if(Math.abs(relativeDotPosition)==2)currentDot.style.color='#DDDDDD';}window.currentCenterLoadingDot++;if(window.currentCenterLoadingDot==ak.AK_NUM_LOADING_DOTS+2)window.currentCenterLoadingDot=-2;var loadingDiv=document.getElementById('akLoadingMessageDiv');if(loadingDiv!=null&&loadingDiv.style.display!='none')setTimeout('ak.setLoadingDotColors();',100);};ak.setStyleAttribute=function(element,cssText){if(element.style&&element.style.setAttribute){element.style.setAttribute('cssText',cssText);}else{element.setAttribute('style',cssText);}};ak.setUpDebugConsole=function(){if(window.akDebugConsoleCreated)return;window.akDebugConsoleCreated=true;ak.createLoadingMessage();ak.setSessionCookie('akdebug','true');var debugConsoleUrl='http://api.aggregateknowledge.com/debug/'+ak.generateRandomNumericString(7)+'.js';ak.attachScriptAsynchronously(debugConsoleUrl);};ak.isProbablyAFormField=function(obj){if(typeof(obj)!='object')return false;var probablyAFormFieldRating=0;if(obj.form!==undefined)probablyAFormFieldRating++;if(obj.tabIndex!==undefined)probablyAFormFieldRating++;if(obj.focus!==undefined)probablyAFormFieldRating++;if(obj.value!==undefined)probablyAFormFieldRating++;if(obj.type!==undefined)probablyAFormFieldRating++;return(probablyAFormFieldRating >= 3);};ak.variableIsDefined=function(varName){var varReference=window[varName];if(varReference==undefined)return false;if(ak.isProbablyAFormField(varReference))return false;if(varReference.length!==undefined&&varReference[0]!==undefined&&ak.isProbablyAFormField(varReference[0]))return false;return true;};ak.attachScriptSynchronously=function(scriptUrl){document.write('<'+'scr'+'ipt src="'+scriptUrl+'"><'+'/scr'+'ipt>');};ak.attachScriptAsynchronously=function(scriptUrl){var boxScript=document.createElement('script');boxScript.setAttribute('src',scriptUrl);document.getElementsByTagName('head')[0].appendChild(boxScript);};ak.getWindowReference=function(){try{var x=window.top.location.toString();return window.top;}catch(e){return window;}};ak.recordRoundTripExecutionTime=function(){window.akserverRoundTripPlusJSThreadWaitTimeEnd=(new Date()).valueOf();};ak.sendExecutionTimeData=function(){var roundTripTime=0;if(window.akserverRoundTripPlusJSThreadWaitTimeStart&&window.akserverRoundTripPlusJSThreadWaitTimeEnd)roundTripTime=window.akserverRoundTripPlusJSThreadWaitTimeEnd-window.akserverRoundTripPlusJSThreadWaitTimeStart;var boxRenderTime=(new Date()).valueOf()-window.akserverRoundTripPlusJSThreadWaitTimeEnd;var executionTimeUrl='http://api.aggregateknowledge.com/xt/'+ak.generateRandomNumericString(7)+'.js?rtt='+roundTripTime+'&rt='+boxRenderTime+'&b='+window.akBoxId;ak.attachScriptAsynchronously(executionTimeUrl);};ak.QUERY_STRING_LENGTH_LIMIT=2000;ak.APIParameter.prototype.clone=function(){var newParam=new ak.APIParameter(this.unifiedName,this.usableNames,this.value,this.isUsedForSilentMode,this.URLName);newParam.dataType=this.dataType;newParam.populatingExpression=this.populatingExpression;newParam.isSentToServer=this.isSentToServer;newParam.specificity=this.specificity;newParam.isLessImportantThanItemArrayData=this.isLessImportantThanItemArrayData;return newParam;};ak.APIParameter.prototype.getLength=function(){if(this.value.constructor==Array)return this.value.length;return 1;};ak.APIParameter.prototype.padToLength=function(length){if(this.value.constructor==Array){for(var i=this.value.length;i<=(length-1);i++){if(this.dataType=='STRING_OR_ARRAY')this.value.push('');if(this.dataType=='INTEGER_OR_ARRAY'||this.dataType=='FLOAT_OR_ARRAY')this.value.push(0);if(this.dataType=='BOOLEAN_OR_ARRAY')this.value.push(false);}}};ak.APIParameter.prototype.canSplit=function(){return(this.value.constructor==Array&&this.value.length>1);};ak.APIParameter.prototype.split=function(){if(!this.canSplit())return[this.clone()];var newParam1=this.clone();var newParam2=this.clone();var splitIndex=Math.floor(this.value.length / 2);newParam1.value=this.value.slice(0,splitIndex);newParam2.value=this.value.slice(splitIndex);return[newParam1,newParam2];};ak.APIParameters.prototype.clone=function(){var newParams=new ak.APIParameters();newParams.paramMap=new Object();for(paramName in this.paramMap){newParams.paramMap[paramName]=this.paramMap[paramName].clone();}return newParams;};ak.APIParameters.prototype.getMaxItemSpecificArrayLength=function(){var maxArrayLength=0;for(var iter=this.iterator();iter.hasNext();){var param=iter.next();var currentLength=param.getLength();if(currentLength>maxArrayLength&&param.specificity=='ITEM')maxArrayLength=currentLength;}return maxArrayLength;};ak.APIParameters.prototype.normalizeItemSpecificArrayLengths=function(){var maxArrayLength=this.getMaxItemSpecificArrayLength();for(var iter=this.iterator();iter.hasNext();){var param=iter.next();if(param.specificity=='ITEM')param.padToLength(maxArrayLength);}};ak.APIParameters.prototype.canSplit=function(){for(var iter=this.iterator();iter.hasNext();){var param=iter.next();if(param.specificity=='ITEM'&&param.canSplit())return true;}return false;};ak.APIParameters.prototype.split=function(){if(!this.canSplit())return[this.clone()];var newParams1=this.clone();var newParams2=this.clone();for(paramName in newParams1.paramMap){var param=newParams1.paramMap[paramName];if(param.specificity=='ITEM'&&param.canSplit()){var splitParamArray=param.split();newParams1.paramMap[paramName]=splitParamArray[0];newParams2.paramMap[paramName]=splitParamArray[1];}}return[newParams1,newParams2];};ak.APIParameters.prototype.convertToSilentMode=function(){this.getParameterByName('akMode').value='SILENT';};ak.splitApiParametersForUrlLengthLimit=function(apiParams){var outputArray=new Array();if(apiParams.toQueryString().length<=ak.QUERY_STRING_LENGTH_LIMIT)return[apiParams];apiParams.normalizeItemSpecificArrayLengths();var inputArray=[apiParams];var discardedObjects=new Array;for(var i=0;i<10000;i++){if(inputArray.length==0)break;var currentParams=inputArray.pop();if(currentParams.toQueryString().length<=ak.QUERY_STRING_LENGTH_LIMIT){outputArray.push(currentParams);continue;}if(!currentParams.canSplit()){discardedObjects.push(currentParams);continue;}var splitArray=currentParams.split();if(splitArray.length==1)continue;for(var j=0;j<=(splitArray.length-1);j++){if(splitArray[j].toQueryString().length<=ak.QUERY_STRING_LENGTH_LIMIT){outputArray.push(splitArray[j]);}else{inputArray.push(splitArray[j]);}}}if(outputArray.length>1){for(var i=1;i<=(outputArray.length-1);i++){outputArray[i].convertToSilentMode();}}if(outputArray.length>0){var totalTruncatedItems=0;for(var i=0;i<=(discardedObjects.length-1);i++)totalTruncatedItems+=discardedObjects[i].getMaxItemSpecificArrayLength();for(var i=1;i<=(outputArray.length-1);i++)totalTruncatedItems+=outputArray[i].getMaxItemSpecificArrayLength();outputArray[0].getParameterByName('akItemsTruncated').value=totalTruncatedItems;}return outputArray;};ak.dropLessImportantParametersIfNecessary=function(apiParams){if(apiParams.toQueryString().length<=ak.QUERY_STRING_LENGTH_LIMIT)return true;for(var iter=apiParams.iterator();iter.hasNext();){var param=iter.next();if(param.isLessImportantThanItemArrayData){param.clearValue();}}return(apiParams.toQueryString().length<=ak.QUERY_STRING_LENGTH_LIMIT);};ak.truncateApiParametersForUrlLengthLimit=function(apiParams){if(ak.dropLessImportantParametersIfNecessary(apiParams))return apiParams;var paramsArray=ak.splitApiParametersForUrlLengthLimit(apiParams);if(paramsArray.length>0)return paramsArray[0];return null;};ak.spliceArrays=function(array1,array2){if(array1==null)array1=[];if(array2==null)array2=[];if(array1.constructor!=Array)array1=[array1];if(array2.constructor!=Array)array2=[array2];var outputArray=[];for(var i=0;i<array1.length;i++)outputArray.push(array1[i]);for(var i=0;i<array2.length;i++)outputArray.push(array2[i]);return outputArray;};ak.getBoxUrl=function(apiParams){window.akBoxId=ak.generateRandomNumericString(7);var boxUrl='http://api.aggregateknowledge.com/2007/01/15/results/'+window.akBoxId+'.js'+apiParams.toQueryString();return boxUrl;};ak.submitApiData=function(apiParams){var boxUrl=ak.getBoxUrl(apiParams);if(window.akAPIEngineExecutionStart){var totalExecutionTime=(new Date()).valueOf()-window.akAPIEngineExecutionStart;boxUrl+='&xt='+totalExecutionTime;}ak.boxUrl=boxUrl;if(false){ak.attachScriptSynchronously(boxUrl);}else{ak.attachScriptAsynchronously(boxUrl);}window.akserverRoundTripPlusJSThreadWaitTimeStart=(new Date()).valueOf();};ak.addProtectiveStylingToAnchor=function(apiParams){try{var akAnchor=document.getElementById(apiParams.getParameterByName('akAnchorId').getValueAsString());if(akAnchor==null)return;akAnchor.style.textDecoration='none';akAnchor.style.fontWeight='normal';}catch(e){}};ak.execute=function(){if(window.akRequestCount==null){window.akRequestCount=1;}else{window.akRequestCount++;}window.akAPIEngineExecutionStart=(new Date()).valueOf();var params=ak.buildApiParameters();if(params.getParameterByName('akDebug').value)ak.setUpDebugConsole();params=ak.truncateApiParametersForUrlLengthLimit(params);if(params!=null){ak.addProtectiveStylingToAnchor(params);ak.submitApiData(params);}ak.setUpShortcuts();};function akExecute(){ak.execute();}if(window.onAKAPIEngineLoad)onAKAPIEngineLoad();ak.execute();}catch(akException){if(window.akDebug||ak.getQueryVariable('akdebug')=='true'){throw(akException);}else{try{var queryString='pageurl='+ak.getWindowReference().location.toString();if(akException.message)queryString+='&message='+akException.message;if(akException.name)queryString+='&name='+akException.name;if(akException.description)queryString+='&description='+akException.description;if(akException.number)queryString+='&number='+akException.number;var url='http://api.aggregateknowledge.com/jserror/'+ak.generateRandomNumericString(7)+'.html'+'?'+queryString;var akErrorIframe=document.createElement('iframe');akErrorIframe.setAttribute('border','0');akErrorIframe.setAttribute('frameborder','0');akErrorIframe.setAttribute('width','0');akErrorIframe.setAttribute('height','0');akErrorIframe.setAttribute('scrolling','no');akErrorIframe.setAttribute('src',url);var akAnchor=document.getElementById('akAPI');if(akAnchor==null&&window.akAnchorId)akAnchor=document.getElementById(window.akAnchorId);if(akAnchor!=null){akAnchor.appendChild(akErrorIframe);}}catch(e){}}}